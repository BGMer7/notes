# 剪枝

搜索算法中，很大一部分是通过使用DFS深度优先搜索和BFS广度优先搜索实现的，而这两种算法都是基于二叉搜索树实现的。

二叉树存在大量的分支，当数据的参数比较大的时候，二叉树的分支会大量增加，此时由于搜索过程会需要走大量不相关的搜索路径，所以产生了剪枝算法的思想。

剪枝：顾名思义通过删去一些不重要的节点，来减小搜索或者遍历的复杂度。

剪枝在很多算法中都有应用，比如决策树、神经网络、搜索、数据库涉及。

在决策树和神经网络中，剪枝可以有效缓解过拟合问题并减小计算复杂度；在搜索算法中，可以减小搜索范围，提高搜索效率。应用剪枝优化的核心问题是设计剪枝判断方法，即确定哪些枝条应当舍弃，哪些枝条应当保留的方法。

### 剪枝的三个原则：正确性、准确性、高效性

##### 正确性

剪枝不能把影响程序最终结果的几个分支剪掉，所以说剪枝最重要的前提是保证程序结果的正确性。

##### 准确性

在保证正确性的基础上,我们再对问题进行细致的分析之后，应该采用合适的判断手段,使除了最优解以外的枝条尽可能多的被剪去,以达到程序“最优化”的目的。 剪枝的准确性, 是衡量一个优化算法好坏的标准。

##### 高效性

设计剪枝和其他优化算法的根本目的，是为了减少搜索的次数，使得程序的运行时间减少。但是为了提高算法的准确性，又不得不增大算法判断的条件和次数，这样又会导致算法耗时的增加，于是就产生了矛盾。所以要在剪枝的时间复杂度优化找到一个平衡点，使得用于判断的时间和判断的效果都能达到理想的效果。

#### 剪枝的分类

##### 可行性剪枝

如果当前的状态和题意不符合，并且往后的情况都将与题意不符合，那么程序可以直接返回。

##### 排除等效冗余

当多个分支有同样的效果的时候，只需要选择其中一个分支进行遍历就可以达到效果。

##### 最优性剪枝

程序运行的过程中记录下最优解，之后的每一个解在运行过程中都与最优解比较，如果运行一半已经比最优解差，那么没有必要继续运行下去，立即停止搜索进行回溯。

##### 顺序剪枝

普遍来讲，搜索的顺序是不固定的，对一个问题来讲，算法可以进入搜索树的任意的一个子节点。但假如我们要搜索一个最小值，而非要从最大值存在的那个节点开搜，就可能存在搜索到最后才出解。而我们从最小的节点开搜很可能马上就出解。这就是顺序剪枝的一个应用。一般来讲，有单调性存在的搜索问题可以和贪心思想结合，进行顺序剪枝。

##### 记忆化

把每一次记录结果做一个记录，在搜索过程中发现同样的结果就直接返回。

